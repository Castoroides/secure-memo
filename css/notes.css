/* =========================
   Notes Screen
========================= */

/* editor.css 側が .editor-wrap { font-size: var(--editor-font-size, 16px); } なので
   Notesも同じ変数に揃える */
:root{
  --notes-max-width: 760px;
  --notes-pad: 14px;

  --notes-radius: 14px;
  --notes-border: 1px solid rgba(127,127,127,.18);
  --notes-shadow: 0 8px 18px rgba(0,0,0,.06);

  --notes-muted: rgba(34,34,34,.62);
}

:root[data-color-mode="dark"]{
  --notes-border: 1px solid rgba(255,255,255,.10);
  --notes-shadow: none;
  --notes-muted: rgba(230,230,230,.62);
}

.screen.hidden { display: none; }

.screen{
  position: fixed;
  top: 0;
  left: 0;
  right: 0;

  /* ★ フッター（bottom-area）領域を確実に空けるので水平線が残る */
  bottom: var(--bottom-area-height);

  /* bottom-area は base.css で z-index: 990。
     Notesはその上に来るが、領域が被らないので水平線は見える。 */
  z-index: 1000;

  background: var(--bg-container);
  color: var(--text-main);

  display: flex;
  flex-direction: column;
}

/* ===== Header ===== */
.screen-header{
  position: sticky;
  top: 0;
  z-index: 5;

  display: grid;
  grid-template-columns: 44px 1fr 44px;
  align-items: center;
  gap: 10px;

  padding: 12px var(--notes-pad);
  border-bottom: 1px solid var(--border-main);
  background: var(--bg-container);
}

.screen-title{
  margin: 0;
  text-align: center;
  font-size: 15px;
  letter-spacing: .02em;
  opacity: .92;
}

/* header buttons */
.icon-btn {
  appearance: none;
  -webkit-appearance: none;
  border: none;
  background: none;
  padding: 0;

  width: 44px;
  height: 44px;

  display: grid;
  place-items: center;

  color: var(--text-main);
  cursor: pointer;
  border-radius: 12px;
}

.icon-btn:focus { outline: none; }
.icon-btn:active { transform: scale(0.96); } /* 押下感だけ（ホバー移動は無し） */

.note-del[data-icon] svg{
  width: 20px;
  height: 20px;
  opacity: 0.8;
}

.primary-btn{
  appearance: none;
  -webkit-appearance: none;

  width: 44px;
  height: 44px;
  padding: 0;

  border-radius: 12px;
  border: 1px solid var(--border-main);
  background: var(--bg-editor);
  color: var(--text-main);

  display: grid;
  place-items: center;

  font-size: 22px;
  line-height: 1;
  cursor: pointer;
}
.primary-btn:active{ transform: scale(0.96); }

/* ===== Body ===== */
.screen-body{
  flex: 1;
  overflow: auto;
  -webkit-overflow-scrolling: touch;

  padding: 14px var(--notes-pad) 18px;
}

.notes-list{
  max-width: var(--notes-max-width);
  margin: 0 auto;

  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* ===== Item ===== */
.note-item{
  position: relative;

  border-radius: var(--notes-radius);
  border: var(--notes-border);
  background: var(--bg-editor);
  box-shadow: var(--notes-shadow);
  font-size: var(--editor-font-size, 16px);

  padding: 12px;
  padding-right: 52px;
}

/* タイトル */
.note-item .title{
  font-weight: 800;
  font-size: 1em;
  line-height: 1.35;

  /* 長いタイトルは2行で省略（見た目が整う） */
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;

  margin-bottom: 6px;
}

/* 更新日時など */
.note-item .meta{
  font-size: 0.85em;
  color: var(--notes-muted);
  letter-spacing: .01em;
}

/* 削除ボタン（trash） */
.note-del{
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);

  width: 40px;
  height: 40px;

  border: none;
  background: transparent;
  cursor: pointer;

  display: grid;
  place-items: center;

  border-radius: 12px;
  color: var(--text-main);
}

.note-del:active{
  transform: translateY(-50%) scale(0.96);
}

/* hoverの“動き”は無し。背景だけ薄く（PCで触ったときも破綻しない） */
.note-del:hover{
  background: rgba(0,0,0,0.06);
}
:root[data-color-mode="dark"] .note-del:hover{
  background: rgba(255,255,255,0.10);
}

.note-open{
  /* ボタンの“箱”を完全に消す */
  all: unset;

  /* 中身として振る舞わせる */
  display: block;
  width: 100%;

  color: inherit;
  font: inherit;
  line-height: inherit;

  cursor: pointer;
}

/* PCだけ少し余裕 */
@media (min-width: 900px){
  .screen-body{ padding-top: 18px; }
  .notes-list{ gap: 12px; }
}
